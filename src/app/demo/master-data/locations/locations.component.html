<div class="card">
    <div class="grid">
        <div class="col-6">
            <h4>Location</h4>
        </div>
        <div class="col-6" style="display: flex;justify-content: flex-end;">
            <button type="button" pButton pRipple label="Create Location" (click)="showCreateLocationDialog()"
                class="mr-2 mb-2"></button>
        </div>
    </div>
    <!-- <hr class="align"> -->
    <p-table #dt1 [showCurrentPageReport]="true" [rowsPerPageOptions]="[10, 25, 50]"
        currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries" [value]="locationdetails"
        selectionMode="single" dataKey="id" styleClass="p-datatable-gridlines" responsiveLayout="scroll" [rows]="10"
        [paginator]="true" scrollHeight="530px" scrollDirection="both" [resizableColumns]="true">
        <ng-template pTemplate="header">
            <tr>
                <th style="text-align: center;width: 50px" [frozen]="true" class="sticky-header">Actions</th>
                <th style="text-align: center; width: 200px" pSortableColumn="loc_name" [frozen]="true"
                    class="sticky-header">
                    Location Name<p-sortIcon field="loc_name"></p-sortIcon>
                </th>
                <th style="text-align: center; width: 200px" pSortableColumn="region" [frozen]="true"
                    class="sticky-header">
                    Region<p-sortIcon field="region"></p-sortIcon>
                </th>
                <th style="text-align: center; width: 200px" pSortableColumn="country" [frozen]="true"
                    class="sticky-header">
                    Country<p-sortIcon field="country"></p-sortIcon>
                </th>
                <th style="text-align: center; width: 200px" pSortableColumn="country_code" [frozen]="true"
                    class="sticky-header">Country Code<p-sortIcon field="country_code"></p-sortIcon>
                </th>
                <th style="text-align: center; width: 200px" pSortableColumn="description" [frozen]="true"
                    class="sticky-header">
                    Description<p-sortIcon field="description"></p-sortIcon>
                </th>
                <th style="text-align: center; width: 200px" pSortableColumn="location_code" [frozen]="true"
                    class="sticky-header">Location Code<p-sortIcon field="location_code"></p-sortIcon>
                </th>
                <th style="text-align: center; width: 200px" pSortableColumn="status" [frozen]="true"
                    class="sticky-header">Status<p-sortIcon field="status"></p-sortIcon>
                </th>

            </tr>
        </ng-template>
        <ng-template pTemplate="body" let-item>
            <tr *ngFor="let item of locationdetails">
                <td style="text-align: center;">
                    <span style="cursor: pointer;" (click)="confirm('edit')"><i class="pi pi-pencil"></i></span>&nbsp;
                    <span style="cursor: pointer;" (click)="item.id ? confirmDelete(item.id) : null">
                        <i class="pi pi-trash"></i>
                    </span>
                </td>
                <td style="text-align: center; word-wrap: break-word;">
                    <span>{{item.loc_name}}</span>
                </td>
                <td style="text-align: center; word-wrap: break-word;">
                    <span>{{item.region}}</span>
                </td>
                <td style="text-align: center; word-wrap: break-word;">
                    <span>{{item.country}}</span>
                </td>
                <td style="text-align: center; word-wrap: break-word;">
                    <span>{{item.country_code}}</span>
                </td>
                <td style="text-align: center; word-wrap: break-word;">
                    <span>{{item.description}}</span>
                </td>
                <td style="text-align: center; word-wrap: break-word;">
                    <span>{{item.location_code}}</span>
                </td>
                <td style="text-align: center; word-wrap: break-word;">
                    <span>{{item.status}}</span>
                </td>
            </tr>
        </ng-template>
        <ng-template pTemplate="emptymessage">
            <tr>
                <td style="text-align: center;" colspan="18">No Data found.</td>
            </tr>
        </ng-template>
    </p-table>
</div>

<p-dialog [(visible)]="displayCreateLocationDialog" [style]="{width: '50vw'}" [draggable]="false"
    [resizable]="false" closable='true'>
    <ng-template pTemplate="header">
        <h5 style="display: contents;">Add New Location :</h5>&nbsp;
    </ng-template>
    <hr>
    <i>Please complete all required fields to create a new location.</i>
  <br>
    <div class="tr-divider"></div>
    <form [formGroup]="locationForm" >
        <div class="p-grid p-field">
            <div class="formgrid grid">
                <div class="field col-12 md:col-6">
                    <label for="name">Locaton Name</label>
                    <input id="name" type="text"  formControlName="name"
                        class="text-base text-color surface-overlay p-2 border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full">
                </div>
                <div class="field col-12 md:col-6">
                    <label for="locationCode">Location Code</label>
                    <input id="locationCode" type="text" formControlName="locationCode"
                        class="text-base text-color surface-overlay p-2 border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full">
                </div>
                <div class="field col-12 md:col-6">
                    <label for="region">Region</label>
                    <p-dropdown [options]="regionOptions" formControlName="region" placeholder="Select Region"
                    optionLabel="name" optionValue="name" [filter]="true" filterBy="name"
                    [style]="{ 'width': '100%' }">
        </p-dropdown>
                </div>
                <div class="field col-12 md:col-6">
                    <label for="state">Country</label>
                    <select id="state"
                        class="w-full text-base text-color surface-overlay p-2 border-1 border-solid surface-border border-round outline-none focus:border-primary"
                        style="appearance: auto">
                        <option>Arizona</option>
                        <option>California</option>
                        <option>Florida</option>
                        <option>Ohio</option>
                        <option>Washington</option>
                    </select>
                </div>
                <div class="field col-12">
                    <label for="description">Discription</label>
                    <textarea id="description" type="text" rows="4" formControlName="description"
                        class="text-base text-color surface-overlay p-2 border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full"></textarea>
                </div>
                <div class="field col-12 md:col-3">
                    <p-card class="p-field-radiobutton p-mb-0">						
						<ul>
							<li class="p-card-label"> Status is Active ? </li>
							<li class="p-card-value">
								<p-inputSwitch value="1" formControlName="status"  ></p-inputSwitch>
							</li>
						</ul>
					</p-card>
                </div>
            </div>




        </div>
    </form>
    <ng-template pTemplate="footer">
        <p-button label=" Add " (click)="addLocationsDetails()"></p-button>&nbsp;&nbsp;
        <p-button  label="Cancel" (click)="cancelCreateLocationDialog()"></p-button>
    </ng-template>


</p-dialog>
<p-toast key="successToast" position="top-right"></p-toast>
<p-confirmDialog [header]="confirmationHeader" icon="pi pi-exclamation-triangle"
    [style]="{ 'width': '550px', 'height': '300px' }"></p-confirmDialog>
